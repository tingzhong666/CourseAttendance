import{r as o,a as ne,u as ae,c as ie,C as V,b as w,j as A}from"./index-BpOub9d4.js";import{u as le}from"./auth-D4BlDN8S.js";import{u as ce,r as Ae,R as Y,C as j}from"./row-D3CEMKuo.js";import{u as H,R as ge}from"./httpInstance-CuzQbMQa.js";import{g as ue,m as de,u as me,t as ve,c as pe}from"./Compact-IDRBBHga.js";import{P as he}from"./index-D_Thouwj.js";const L=o.createContext({}),Ce=e=>{const{antCls:r,componentCls:s,iconCls:t,avatarBg:a,avatarColor:v,containerSize:u,containerSizeLG:f,containerSizeSM:C,textFontSize:p,textFontSizeLG:I,textFontSizeSM:z,borderRadius:h,borderRadiusLG:d,borderRadiusSM:b,lineWidth:G,lineType:N}=e,Q=(n,m,R)=>({width:n,height:n,borderRadius:"50%",[`&${s}-square`]:{borderRadius:R},[`&${s}-icon`]:{fontSize:m,[`> ${t}`]:{margin:0}}});return{[s]:Object.assign(Object.assign(Object.assign(Object.assign({},ne(e)),{position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",overflow:"hidden",color:v,whiteSpace:"nowrap",textAlign:"center",verticalAlign:"middle",background:a,border:`${ae(G)} ${N} transparent`,"&-image":{background:"transparent"},[`${r}-image-img`]:{display:"block"}}),Q(u,p,h)),{"&-lg":Object.assign({},Q(f,I,d)),"&-sm":Object.assign({},Q(C,z,b)),"> img":{display:"block",width:"100%",height:"100%",objectFit:"cover"}})}},Ee=e=>{const{componentCls:r,groupBorderColor:s,groupOverlapping:t,groupSpace:a}=e;return{[`${r}-group`]:{display:"inline-flex",[r]:{borderColor:s},"> *:not(:first-child)":{marginInlineStart:t}},[`${r}-group-popover`]:{[`${r} + ${r}`]:{marginInlineStart:a}}}},fe=e=>{const{controlHeight:r,controlHeightLG:s,controlHeightSM:t,fontSize:a,fontSizeLG:v,fontSizeXL:u,fontSizeHeading3:f,marginXS:C,marginXXS:p,colorBorderBg:I}=e;return{containerSize:r,containerSizeLG:s,containerSizeSM:t,textFontSize:Math.round((v+u)/2),textFontSizeLG:f,textFontSizeSM:a,groupSpace:p,groupOverlapping:-C,groupBorderColor:I}},J=ue("Avatar",e=>{const{colorTextLightSolid:r,colorTextPlaceholder:s}=e,t=de(e,{avatarBg:s,avatarColor:r});return[Ce(t),Ee(t)]},fe);var Ie=function(e,r){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&r.indexOf(t)<0&&(s[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)r.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(s[t[a]]=e[t[a]]);return s};const Be=(e,r)=>{const[s,t]=o.useState(1),[a,v]=o.useState(!1),[u,f]=o.useState(!0),C=o.useRef(null),p=o.useRef(null),I=ie(r,C),{getPrefixCls:z,avatar:h}=o.useContext(V),d=o.useContext(L),b=()=>{if(!p.current||!C.current)return;const i=p.current.offsetWidth,l=C.current.offsetWidth;if(i!==0&&l!==0){const{gap:E=4}=e;E*2<l&&t(l-E*2<i?(l-E*2)/i:1)}};o.useEffect(()=>{v(!0)},[]),o.useEffect(()=>{f(!0),t(1)},[e.src]),o.useEffect(b,[e.gap]);const G=()=>{const{onError:i}=e;(i==null?void 0:i())!==!1&&f(!1)},{prefixCls:N,shape:Q,size:n,src:m,srcSet:R,icon:B,className:Z,rootClassName:P,alt:U,draggable:F,children:x,crossOrigin:y}=e,S=Ie(e,["prefixCls","shape","size","src","srcSet","icon","className","rootClassName","alt","draggable","children","crossOrigin"]),c=me(i=>{var l,E;return(E=(l=n??(d==null?void 0:d.size))!==null&&l!==void 0?l:i)!==null&&E!==void 0?E:"default"}),O=Object.keys(typeof c=="object"?c||{}:{}).some(i=>["xs","sm","md","lg","xl","xxl"].includes(i)),T=ce(O),W=o.useMemo(()=>{if(typeof c!="object")return{};const i=Ae.find(E=>T[E]),l=c[i];return l?{width:l,height:l,fontSize:l&&(B||x)?l/2:18}:{}},[T,c]),g=z("avatar",N),D=H(g),[$,_,ee]=J(g,D),te=w({[`${g}-lg`]:c==="large",[`${g}-sm`]:c==="small"}),k=o.isValidElement(m),re=Q||(d==null?void 0:d.shape)||"circle",oe=w(g,te,h==null?void 0:h.className,`${g}-${re}`,{[`${g}-image`]:k||m&&u,[`${g}-icon`]:!!B},ee,D,Z,P,_),se=typeof c=="number"?{width:c,height:c,fontSize:B?c/2:18}:{};let M;if(typeof m=="string"&&u)M=o.createElement("img",{src:m,draggable:F,srcSet:R,onError:G,alt:U,crossOrigin:y});else if(k)M=m;else if(B)M=B;else if(a||s!==1){const i=`scale(${s})`,l={msTransform:i,WebkitTransform:i,transform:i};M=o.createElement(ge,{onResize:b},o.createElement("span",{className:`${g}-string`,ref:p,style:Object.assign({},l)},x))}else M=o.createElement("span",{className:`${g}-string`,style:{opacity:0},ref:p},x);return delete S.onError,delete S.gap,$(o.createElement("span",Object.assign({},S,{style:Object.assign(Object.assign(Object.assign(Object.assign({},se),W),h==null?void 0:h.style),S.style),className:oe,ref:I}),M))},q=o.forwardRef(Be),X=e=>{const{size:r,shape:s}=o.useContext(L),t=o.useMemo(()=>({size:e.size||r,shape:e.shape||s}),[e.size,e.shape,r,s]);return o.createElement(L.Provider,{value:t},e.children)},xe=e=>{var r,s,t,a;const{getPrefixCls:v,direction:u}=o.useContext(V),{prefixCls:f,className:C,rootClassName:p,style:I,maxCount:z,maxStyle:h,size:d,shape:b,maxPopoverPlacement:G,maxPopoverTrigger:N,children:Q,max:n}=e,m=v("avatar",f),R=`${m}-group`,B=H(m),[Z,P,U]=J(m,B),F=w(R,{[`${R}-rtl`]:u==="rtl"},U,B,C,p,P),x=ve(Q).map((c,O)=>pe(c,{key:`avatar-key-${O}`})),y=(n==null?void 0:n.count)||z,S=x.length;if(y&&y<S){const c=x.slice(0,y),O=x.slice(y,S),T=(n==null?void 0:n.style)||h,W=((r=n==null?void 0:n.popover)===null||r===void 0?void 0:r.trigger)||N||"hover",g=((s=n==null?void 0:n.popover)===null||s===void 0?void 0:s.placement)||G||"top",D=Object.assign(Object.assign({content:O},n==null?void 0:n.popover),{classNames:{root:w(`${R}-popover`,(a=(t=n==null?void 0:n.popover)===null||t===void 0?void 0:t.classNames)===null||a===void 0?void 0:a.root)},placement:g,trigger:W});return c.push(o.createElement(he,Object.assign({key:"avatar-popover-key",destroyTooltipOnHide:!0},D),o.createElement(q,{style:T},`+${S-y}`))),Z(o.createElement(X,{shape:b,size:d},o.createElement("div",{className:F,style:I},c)))}return Z(o.createElement(X,{shape:b,size:d},o.createElement("div",{className:F,style:I},x)))},K=q;K.Group=xe;const Se="data:image/jpeg;base64,/9j/4QAYRXhpZgAASUkqAAgAAAAAAAAAAAAAAP/sABFEdWNreQABAAQAAABGAAD/4QN6aHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLwA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/PiA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjUtYzAxNCA3OS4xNTE0ODEsIDIwMTMvMDMvMTMtMTI6MDk6MTUgICAgICAgICI+IDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+IDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIiB4bWxuczpzdFJlZj0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL3NUeXBlL1Jlc291cmNlUmVmIyIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6ZGM4ZjY1ZDAtMGI2ZC1hYzQxLTg3OWUtNTI5ZjU5NDE4NjJmIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkI4RjVBRDg3MDFBRDExRTQ5RjE3QzhBMDRGRENGQ0RGIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkI4RjVBRDg2MDFBRDExRTQ5RjE3QzhBMDRGRENGQ0RGIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDQyAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmNGFiZWQ2ZS00MzE2LTVlNGItOWU2My1kYTBmYWI5ODkzMDkiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6ZGM4ZjY1ZDAtMGI2ZC1hYzQxLTg3OWUtNTI5ZjU5NDE4NjJmIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3Jk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",ze=()=>{var t,a,v,u;const e=le(),r={display:"flex",height:"100%",alignItems:"center"},s={justifyContent:"center",width:"150px"};return A.jsxs(A.Fragment,{children:[A.jsxs(Y,{children:[A.jsx(j,{style:{...r,...s},children:A.jsx(K,{src:A.jsx("img",{src:Se,alt:"avatar"}),size:100})}),A.jsx(j,{children:A.jsx("div",{style:r,children:(t=e.user)==null?void 0:t.name})})]}),A.jsxs(Y,{style:{height:"50px"},children:[A.jsx(j,{style:{...r,width:"200px",...s},children:"身份"}),A.jsx(j,{style:r,children:(a=e.user)==null?void 0:a.roles.map(e.roleMap)})]}),A.jsxs(Y,{style:{height:"50px"},children:[A.jsx(j,{style:{...r,width:"200px",...s},children:(v=e.user)!=null&&v.roles.includes("Student")?"学号":"工号"}),A.jsx(j,{style:r,children:(u=e.user)==null?void 0:u.userName})]})]})};export{ze as default};
